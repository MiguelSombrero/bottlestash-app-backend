(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(25),c=a.n(l),u=a(13),s=a(3),o=a.n(s),i=a(6),m=a(8),p=a.n(m),f={login:function(){var e=Object(i.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("/api/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},E=null,b=function(){var e=Object(i.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/api/users");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(i.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat("/api/users","/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),h={getAll:b,create:function(){var e=Object(i.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("/api/users",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(i.a)(o.a.mark(function e(t){var a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:E}},e.next=3,p.a.put("/api/users",t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){E="bearer ".concat(e)},getOne:d},v=null,g=function(){var e=Object(i.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/api/beers");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(i.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat("/api/beers","/").concat(t.breweryId,"/").concat(t.name,"/").concat(t.abv));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),y={getAll:g,create:function(){var e=Object(i.a)(o.a.mark(function e(t){var a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:v}},e.next=3,p.a.post("/api/beers",t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){v="bearer ".concat(e)},getOne:w},x=null,O={getAll:function(){var e=Object(i.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/api/bottles");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(i.a)(o.a.mark(function e(t){var a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:x}},e.next=3,p.a.post("/api/bottles",t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){x="bearer ".concat(e)}},k=null,j=function(){var e=Object(i.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/api/breweries");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(i.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat("/api/breweries","/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),L={getAll:j,create:function(){var e=Object(i.a)(o.a.mark(function e(t){var a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:k}},e.next=3,p.a.post("/api/breweries",t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){k="bearer ".concat(e)},getOne:T},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return t.user;case"LOGOUT":return null;default:return e}},C=a(26),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USERS":return t.users;case"UPDATE_USERS":return e.map(function(e){return e.id!==t.user.id?e:t.user});case"REGISTER_USER":return[].concat(Object(C.a)(e),[t.newUser]);default:return e}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BREWERIES":return t.breweries;case"ADD_BREWERY":return[].concat(Object(C.a)(e),[e.brewery]);default:return e}},A=a(11),I=a(22),U=a(111),R=a(105),B=a(106),F=a(62),_=a(112),D=a(107),P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";return function(){var a=Object(i.a)(o.a.mark(function a(n){return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n({type:"SET_NOTIFICATION",notification:{message:e,type:t}}),setTimeout(function(){n({type:"CLEAR_NOTIFICATION"})},4e3);case 2:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NOTIFICATION":return t.notification;case"CLEAR_NOTIFICATION":return null;default:return e}},W=a(30),J=function(e,t,a,r){var l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=Object(n.useState)(""),u=Object(W.a)(c,2),s=u[0],o=u[1];return{type:e,min:t,max:a,step:r,required:l,value:s,onChange:function(e){o(e.target.value)}}},z=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=Object(n.useState)(""),c=Object(W.a)(l,2),u=c[0],s=c[1];return{type:e,minLength:t,maxLength:a,required:r,value:u,onChange:function(e){s(e.target.value)}}},H={loginUser:function(e,t){return function(){var a=Object(i.a)(o.a.mark(function a(n){var r;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.login({username:e,password:t});case 2:r=a.sent,window.localStorage.setItem("loggedBottlestashUser",JSON.stringify(r)),h.setToken(r.token),y.setToken(r.token),O.setToken(r.token),L.setToken(r.token),n({type:"LOGIN",user:r});case 9:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},setNotification:P},K=Object(u.b)(null,H)(Object(I.e)(function(e){var t=z("text",5,20,!0),a=z("password",5,20,!0),n=function(){var n=Object(i.a)(o.a.mark(function n(r){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),n.prev=1,n.next=4,e.loginUser(t.value,a.value);case 4:e.history.push("/"),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),e.setNotification("Login failed","error");case 10:case"end":return n.stop()}},n,null,[[1,7]])}));return function(e){return n.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,null,r.a.createElement(B.a,{as:F.a,className:"d-flex justify-content-center mb-2"},r.a.createElement("h2",null,"Login to Bottlestash"))),r.a.createElement(R.a,{id:"loginForm"},r.a.createElement(F.a,{className:"d-flex justify-content-center mb-2"},r.a.createElement(_.a,{onSubmit:n,style:{width:"20rem"}},r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Username"),r.a.createElement(_.a.Control,Object.assign({},t,{placeholder:"username"}))),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Password"),r.a.createElement(_.a.Control,Object.assign({},a,{placeholder:"password"}))),r.a.createElement(D.a,{id:"login",variant:"success",type:"submit",block:!0},"Login")))),r.a.createElement(R.a,null,r.a.createElement(F.a,{className:"d-flex justify-content-center mb-2"},r.a.createElement("small",null,"Not yet a member?",r.a.createElement(A.b,{to:"/register"}," Register here:")))))})),M=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,null,r.a.createElement(B.a,{as:F.a},r.a.createElement("h1",null,"Welcome to Bottlestash"),"Bottlestash in an app that let's you manage you beercellar. Keep track of what you have in your cellar and ...")),r.a.createElement(R.a,null,r.a.createElement(F.a,null,r.a.createElement("h3",null,"With Bottlestash you can:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Save bottles to your stash"),r.a.createElement("li",null,"Review beers you have tasted")))))},Y=a(114),q=a(116),Q={logoutUser:function(){return function(){var e=Object(i.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.localStorage.removeItem("loggedBottlestashUser"),h.setToken(null),y.setToken(null),O.setToken(null),L.setToken(null),t({type:"LOGOUT"});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},setNotification:P},X=Object(u.b)(null,Q)(Object(I.e)(function(e){return r.a.createElement(Y.a,{as:R.a,collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},r.a.createElement(Y.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(Y.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(q.a,{className:"mr-auto"},r.a.createElement(q.a.Link,{href:"#",as:"span"},r.a.createElement(A.c,{to:"/"},"Home")),!e.user&&r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a.Link,{href:"#",as:"span"},r.a.createElement(A.c,{to:"/login"},"Login")),r.a.createElement(q.a.Link,{href:"#",as:"span"},r.a.createElement(A.c,{to:"/register"},"Create account"))),e.user&&r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a.Link,{href:"#",as:"span"},r.a.createElement(A.c,{to:"/users/".concat(e.user.id,"/stash")},"Manage stash")),r.a.createElement(q.a.Link,{href:"#",as:"span"},r.a.createElement(A.c,{to:"/rate"},"Rate")),r.a.createElement(q.a.Link,{href:"#",as:"span"},r.a.createElement(A.c,{to:{pathname:"/profile",state:{user:e.user}}},"Profile")),r.a.createElement(q.a.Link,{href:"#",as:"span"},r.a.createElement(q.a.Item,{onClick:function(){e.logoutUser(),e.setNotification("Logout was successfull"),e.history.push("/")}},"Logout"))))))})),Z={registerUser:function(e){return function(){var t=Object(i.a)(o.a.mark(function t(a){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.create(e);case 2:n=t.sent,a({type:"REGISTER_USER",newUser:n});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},setNotification:P},$=Object(u.b)(null,Z)(Object(I.e)(function(e){var t=z("text",5,20,!0),a=z("password",5,20,!0),n=z("text",1,20,!0),l=z("text",1,50,!0),c=z("text",1,50,!1),u=z("text",1,20,!1),s=function(){var r=Object(i.a)(o.a.mark(function r(s){var i;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s.preventDefault(),i=s.target.hidden.checked,r.prev=2,r.next=5,e.registerUser({username:t.value,password:a.value,name:n.value,email:l.value,city:c.value,county:u.value,hidden:i});case 5:e.setNotification("User registration was succesfull"),e.history.push("/login"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),e.setNotification("User registration failed","error");case 12:case"end":return r.stop()}},r,null,[[2,9]])}));return function(e){return r.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,null,r.a.createElement(B.a,{as:F.a,className:"d-flex justify-content-center mb-2"},r.a.createElement("h2",null,"Register to Bottlestash"))),r.a.createElement(R.a,null,r.a.createElement(F.a,{className:"d-flex justify-content-center mb-2"},r.a.createElement(_.a,{onSubmit:s,style:{width:"20rem"},id:"registerForm"},r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Username"),r.a.createElement(_.a.Control,Object.assign({},t,{placeholder:"username"}))),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Password"),r.a.createElement(_.a.Control,Object.assign({},a,{placeholder:"password"}))),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Name"),r.a.createElement(_.a.Control,Object.assign({},n,{placeholder:"name to show other users"}))),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Email"),r.a.createElement(_.a.Control,Object.assign({},l,{placeholder:"email"}))),r.a.createElement(_.a.Row,null,r.a.createElement(_.a.Group,{as:F.a,className:"p-2"},r.a.createElement(_.a.Label,null,"City"),r.a.createElement(_.a.Control,Object.assign({},c,{placeholder:"what city your stash at"}))),r.a.createElement(_.a.Group,{as:F.a,className:"p-2"},r.a.createElement(_.a.Label,null,"Country"),r.a.createElement(_.a.Control,Object.assign({},u,{placeholder:"what country your stash at"})))),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Check,{type:"checkbox",name:"hidden",label:"I want my stash to be private"})),r.a.createElement(D.a,{variant:"success",type:"submit",block:!0},"Register")))))})),ee=a(113),te=a(117),ae=a(110),ne=a(118),re=a(108),le=a(109),ce=function(e){var t=e.bottle;return r.a.createElement(te.a,{className:"p-2 m-2"},r.a.createElement(te.a.Header,null,r.a.createElement(te.a.Title,null,t.beer.brewery.name," "),r.a.createElement(te.a.Subtitle,null,t.beer.name,", ",t.beer.abv," %")),r.a.createElement(ne.a,{variant:"flush"},r.a.createElement(ne.a.Item,null,r.a.createElement("small",null,"Price ",t.price," \xa2")),r.a.createElement(ne.a.Item,null,r.a.createElement("small",null,"Volume ",t.volume," litres")),r.a.createElement(ne.a.Item,null,r.a.createElement("small",null,"Bottled ",t.bottled)),r.a.createElement(ne.a.Item,null,r.a.createElement("small",null,"Expires ",t.expiration))),r.a.createElement(re.a,{className:"p-2"},r.a.createElement(D.a,{variant:"light"},"Drink and rate!"),r.a.createElement(D.a,{variant:"light"},"Just drink!")),r.a.createElement(te.a.Footer,null,r.a.createElement(le.a,{variant:"info"},t.count)," bottles left"))},ue=function(e){if(!e.userToView)return null;var t=e.userToView.stash;return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,null,r.a.createElement(B.a,{as:F.a,className:"d-flex justify-content-center mb-2"},r.a.createElement("h2",null,e.userToView.name," 's Stash"))),r.a.createElement(R.a,null,r.a.createElement(ee.a,{as:F.a},r.a.createElement(ee.a.Toggle,{as:te.a.Header,eventKey:"0"},"Peek"),r.a.createElement(ee.a.Collapse,{eventKey:"0"},r.a.createElement(te.a.Body,null,r.a.createElement("p",null,"You have ",t.length," different beers in your stash"),r.a.createElement(A.b,{to:"/bottles"},"Add new bottle to your stash"))))),r.a.createElement(R.a,null,r.a.createElement(ae.a,null,t.map(function(e){return r.a.createElement(ce,{key:e.id,bottle:e})}))))},se=function(e){return r.a.createElement(R.a,null,r.a.createElement(B.a,{as:F.a},"Miika Somero 2019"))},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BEERS":return t.beers;case"ADD_BEER":return[].concat(Object(C.a)(e),[e.beer]);default:return e}},ie=function(e){return r.a.createElement("datalist",{id:e.id},e.suggestions.map(function(e){return r.a.createElement("option",{key:e,value:e})}))},me={addBeer:function(e){var t=e.breweryId,a=e.name,n=e.abv;return function(){var e=Object(i.a)(o.a.mark(function e(r){var l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.create({breweryId:t,name:a,abv:n});case 2:return l=e.sent,r({type:"ADD_BEER",beer:l}),e.abrupt("return",l);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},addBrewery:function(e){return function(){var t=Object(i.a)(o.a.mark(function t(a){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.create({name:e});case 2:return n=t.sent,a({type:"ADD_BREWERY",brewery:n}),t.abrupt("return",n);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},updateUserToState:function(e){return function(){var t=Object(i.a)(o.a.mark(function t(a){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.getOne(e);case 2:return n=t.sent,a({type:"UPDATE_USERS",user:n}),t.abrupt("return",n);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},setNotification:P},pe=Object(u.b)(null,me)(Object(I.e)(function(e){var t=Object(n.useState)(!1),a=Object(W.a)(t,2),l=a[0],c=a[1],u=z("text",1,50,!0),s=z("text",1,50,!0),m=J("number",0,100,.1,!0),p=J("number",0,1e3,.01),f=J("number",0,50,1,!0),E=J("number",0,10,.01),b=J("date","1900-01-01","2100-01-01",1),d=J("date","1900-01-01","2100-01-01",1),h=function(){var t=Object(i.a)(o.a.mark(function t(a){var n,r,l;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),a.preventDefault(),t.prev=2,t.next=5,L.getOne(u.value);case 5:if(n=t.sent){t.next=10;break}return t.next=9,e.addBrewery(u.value);case 9:n=t.sent;case 10:return t.next=12,y.getOne({breweryId:n.id,name:s.value,abv:m.value});case 12:if(r=t.sent){t.next=17;break}return t.next=16,e.addBeer({breweryId:n.id,name:s.value,abv:m.value});case 16:r=t.sent;case 17:return t.next=19,O.create({price:p.value,count:f.value,volume:E.value,bottled:b.value,expiration:d.value,beerId:r.id});case 19:return t.next=21,e.updateUserToState(e.user.username);case 21:l=t.sent,c(!1),e.setNotification("Added bottle succesfully"),e.history.push("/users/".concat(l.id,"/stash")),t.next=30;break;case 27:t.prev=27,t.t0=t.catch(2),e.setNotification("Adding bottle failed - sorry!","error");case 30:case"end":return t.stop()}},t,null,[[2,27]])}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,null,r.a.createElement(B.a,{as:F.a,className:"d-flex justify-content-center mb-2"},r.a.createElement("h2",null,"Add new bottle to your stash"))),r.a.createElement(R.a,null,r.a.createElement(F.a,{className:"d-flex justify-content-center mb-2"},r.a.createElement(_.a,{onSubmit:h,id:"addBottleForm"},r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Brewery"),r.a.createElement(_.a.Control,Object.assign({},u,{list:"breweriesAsList",placeholder:"name of the brewery"})),r.a.createElement(ie,{suggestions:e.breweries.map(function(e){return e.name}),id:"breweriesAsList"})),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Name"),r.a.createElement(_.a.Control,Object.assign({},s,{placeholder:"name of your beer"}))),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Abv"),r.a.createElement(_.a.Control,Object.assign({},m,{placeholder:"alcohol %"}))),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Count"),r.a.createElement(_.a.Control,Object.assign({},f,{placeholder:"number of bottles to save"}))),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Volume"),r.a.createElement(_.a.Control,Object.assign({},E,{placeholder:"volume of the bottle in litres"}))),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Price"),r.a.createElement(_.a.Control,Object.assign({},p,{placeholder:"price of an one bottle"}))),r.a.createElement(_.a.Row,null,r.a.createElement(_.a.Group,{className:"p-2"},r.a.createElement(_.a.Label,null,"Bottled"),r.a.createElement(_.a.Control,Object.assign({},b,{placeholder:"day beer was bottled"}))),r.a.createElement(_.a.Group,{className:"p-2"},r.a.createElement(_.a.Label,null,"Expiration"),r.a.createElement(_.a.Control,Object.assign({},d,{placeholder:"expiration day of bottles"})))),r.a.createElement(D.a,{variant:"success",type:"submit",block:!0,disabled:l}," ",l?"Loading ...":"Add beer")))))})),fe=a(115),Ee=Object(u.b)(function(e){return{notification:e.notification}})(function(e){return e.notification?r.a.createElement(R.a,null,r.a.createElement(fe.a,{as:F.a,className:"text-center col-12",variant:"success"===e.notification.type?"success":"danger"},e.notification.message)):null}),be=function(e){var t=J("range",0,10,1,!0),a=J("range",0,10,1,!0),n=J("range",0,5,1,!0),l=J("range",0,5,1,!0),c=J("range",0,20,1,!0);return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,null,r.a.createElement(B.a,{as:F.a,className:"d-flex justify-content-center mb-2"},r.a.createElement("h2",null,"Give rating to this beer"))),r.a.createElement(R.a,null,r.a.createElement(F.a,{className:"d-flex justify-content-center mb-2"},r.a.createElement(_.a,{onSubmit:function(){},id:"rateForm"},r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Aroma"),r.a.createElement(_.a.Text,null,t.value||0),r.a.createElement(_.a.Control,t)),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Taste"),r.a.createElement(_.a.Text,null,a.value||0),r.a.createElement(_.a.Control,a)),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Appearance"),r.a.createElement(_.a.Text,null,n.value||0),r.a.createElement(_.a.Control,n)),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Mouthfeel"),r.a.createElement(_.a.Text,null,l.value||0),r.a.createElement(_.a.Control,l)),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Overall"),r.a.createElement(_.a.Text,null,c.value||0),r.a.createElement(_.a.Control,c)),r.a.createElement(D.a,{type:"submit",variant:"success"},"Add rating")))))},de=function(e){var t=z("text",1,20,!0),a=z("text",1,50,!0),n=z("text",1,50,!1),l=z("text",1,20,!1);if(!e.location.state)return null;var c=e.location.state.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,null,r.a.createElement(F.a,{className:"d-flex justify-content-center mb-2"},r.a.createElement(_.a,{onSubmit:function(){},id:"profileUpdateForm"},r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Text,null,"Username: ",c.username)),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Name"),r.a.createElement(_.a.Control,t)),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Email"),r.a.createElement(_.a.Control,a)),r.a.createElement(_.a.Row,null,r.a.createElement(_.a.Group,{className:"p-2"},r.a.createElement(_.a.Label,null,"City"),r.a.createElement(_.a.Control,n)),r.a.createElement(_.a.Group,{className:"p-2"},r.a.createElement(_.a.Label,null,"Country"),r.a.createElement(_.a.Control,l))),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Check,{type:"checkbox",name:"hidden",defaultValue:c.hidden,label:"I want my stash to be private"})),r.a.createElement(D.a,{type:"submit",variant:"success"},"Save profile")))),r.a.createElement(R.a,{className:"d-flex justify-content-center mb-2"},r.a.createElement(D.a,{onClick:function(){}},"Delete profile")))},he={setUserToState:function(e){return function(){var t=Object(i.a)(o.a.mark(function t(a){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:h.setToken(e.token),y.setToken(e.token),O.setToken(e.token),L.setToken(e.token),a({type:"LOGIN",user:e});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},getAllUsers:function(){return function(){var e=Object(i.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getAll();case 2:a=e.sent,t({type:"GET_USERS",users:a});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},getAllBreweries:function(){return function(){var e=Object(i.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getAll();case 2:a=e.sent,t({type:"GET_BREWERIES",breweries:a});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}},ve=Object(u.b)(function(e){return{user:e.user,users:e.users,breweries:e.breweries}},he)(function(e){Object(n.useEffect)(function(){var t=window.localStorage.getItem("loggedBottlestashUser");t&&e.setUserToState(JSON.parse(t))},[]),Object(n.useEffect)(function(){e.getAllUsers()},[]),Object(n.useEffect)(function(){e.getAllBreweries()},[]);var t=function(t){return e.users.find(function(e){return e.username===t})};return r.a.createElement(U.a,{fluid:!0},r.a.createElement(A.a,{as:R.a},r.a.createElement(X,{user:e.user?t(e.user.username):null}),r.a.createElement(Ee,null),r.a.createElement(I.a,{exact:!0,path:"/",render:function(){return r.a.createElement(M,null)}}),r.a.createElement(I.a,{exact:!0,path:"/login",render:function(){return r.a.createElement(K,null)}}),r.a.createElement(I.a,{exact:!0,path:"/register",render:function(){return r.a.createElement($,null)}}),e.user&&r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{exact:!0,path:"/bottles",render:function(){return r.a.createElement(pe,{breweries:e.breweries,user:e.user?t(e.user.username):null})}}),r.a.createElement(I.a,{exact:!0,path:"/bottles/:id/",render:function(){return r.a.createElement(ce,null)}}),r.a.createElement(I.a,{exact:!0,path:"/rate",render:function(){return r.a.createElement(be,null)}}),r.a.createElement(I.a,{exact:!0,path:"/profile",render:function(e){return r.a.createElement(de,e)}}),r.a.createElement(I.a,{exact:!0,path:"/users/:id/stash",render:function(t){var a,n=t.match;return r.a.createElement(ue,{userToView:(a=n.params.id,e.users.find(function(e){return e.id===a}))})}})),r.a.createElement(se,null)))}),ge=a(29),we=a(66),ye=Object(ge.c)({user:N,users:G,beers:oe,breweries:S,notification:V}),xe=Object(ge.d)(ye,Object(ge.a)(we.a));c.a.render(r.a.createElement(u.a,{store:xe},r.a.createElement(ve,null)),document.getElementById("root"))},67:function(e,t,a){e.exports=a(103)}},[[67,1,2]]]);
//# sourceMappingURL=main.b72a0b06.chunk.js.map