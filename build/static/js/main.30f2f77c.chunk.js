(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,t,a){},129:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),l=a.n(c),u=a(10),s=a(2),o=a.n(s),i=a(5),m=a(15),p=a.n(m),f={login:function(){var e=Object(i.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("/api/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},E=a(7),d=null,b=function(e){d="bearer ".concat(e)},h=function(e){var t=function(){var t=Object(i.a)(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get(e);case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),a=function(){var t=Object(i.a)(o.a.mark(function t(a){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get("".concat(e,"/").concat(a));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return{create:function(){var t=Object(i.a)(o.a.mark(function t(a){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{Authorization:d}},t.next=3,p.a.post(e,a,n);case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),getAll:t,getOne:a,update:function(){var t=Object(i.a)(o.a.mark(function t(a,n){var r,c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={headers:{Authorization:d}},t.next=3,p.a.put("".concat(e,"/").concat(a),n,r);case 3:return c=t.sent,t.abrupt("return",c.data);case 5:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),remove:function(){var t=Object(i.a)(o.a.mark(function t(a){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{Authorization:d}},t.next=3,p.a.delete("".concat(e,"/").concat(a),n);case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},v=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=Object(n.useState)(""),u=Object(E.a)(l,2),s=u[0],o=u[1],i=function(e){o(e.target.value)},m=function(e){o(e)};return"number"===e||"date"===e||"range"===e?[{type:e,min:t,max:a,step:r,required:c,value:s,onChange:i},m]:[{type:e,minLength:t,maxLength:a,required:c,value:s,onChange:i},m]},g=function(){return function(){var e=Object(i.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.localStorage.removeItem("loggedBottlestashUser"),b(null),t({type:"LOGOUT"});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return t.user;case"LOGOUT":return null;default:return e}},y=a(22),x=h("http://localhost:3001/api/users"),O=function(e){return function(){var t=Object(i.a)(o.a.mark(function t(a){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.getOne(e);case 2:return n=t.sent,a({type:"UPDATE_USER_TO_STATE",user:n}),t.abrupt("return",n);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USERS":return t.users;case"UPDATE_USER_TO_STATE":return e.map(function(e){return e.id!==t.user.id?e:t.user});case"REMOVE_USER":return e.filter(function(e){return e.id!==t.id});case"UPDATE_USER":return e.map(function(e){return e.id===t.updatedUser.id?t.updatedUser:e});case"REGISTER_USER":return[].concat(Object(y.a)(e),[t.newUser]);default:return e}},k=h("http://localhost:3001/api/breweries"),N=function(e){return function(){var t=Object(i.a)(o.a.mark(function t(a){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.create(e);case 2:return n=t.sent,a({type:"ADD_BREWERY",brewery:n}),t.abrupt("return",n);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BREWERIES":return t.breweries;case"ADD_BREWERY":return[].concat(Object(y.a)(e),[t.brewery]);default:return e}},L=h("http://localhost:3001/api/ratings"),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_RATINGS":return t.ratings;case"ADD_RATING":return[].concat(Object(y.a)(e),[t.rating]);default:return e}},B=h("http://localhost:3001/api/bottles"),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BOTTLES":return t.bottles;case"ADD_BOTTLE":return[].concat(Object(y.a)(e),[t.newBottle]);case"REMOVE_BOTTLE":return e.filter(function(e){return e.id!==t.id});case"UPDATE_BOTTLE":return e.map(function(e){return e.id===t.updatedBottle.id?t.updatedBottle:e});default:return e}},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";return function(){var a=Object(i.a)(o.a.mark(function a(n){return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n({type:"SET_NOTIFICATION",notification:{message:e,type:t}}),setTimeout(function(){n({type:"CLEAR_NOTIFICATION"})},4e3);case 2:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NOTIFICATION":return t.notification;case"CLEAR_NOTIFICATION":return null;default:return e}},R=a(9),U=a(29),I=a(136),_=a(131),F=a(132),D=a(75),W=a(137),V=a(133),P={loginUser:function(e,t){return function(){var a=Object(i.a)(o.a.mark(function a(n){var r;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.login({username:e,password:t});case 2:r=a.sent,window.localStorage.setItem("loggedBottlestashUser",JSON.stringify(r)),b(r.token),n({type:"LOGIN",user:r});case 6:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()}},Y=Object(u.b)(null,P)(Object(U.e)(function(e){var t=v("text",5,20,!0),a=Object(E.a)(t,1)[0],n=v("password",5,20,!0),c=Object(E.a)(n,1)[0],l=function(){var t=Object(i.a)(o.a.mark(function t(n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,e.loginUser(a.value,c.value);case 4:e.history.push("/"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),e.setNotification("Login failed","error");case 10:case"end":return t.stop()}},t,null,[[1,7]])}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,null,r.a.createElement(F.a,{as:D.a,className:"text-center"},r.a.createElement("h2",null,"Login to Bottlestash"))),r.a.createElement(_.a,{id:"loginForm"},r.a.createElement(D.a,{style:{maxWidth:"25rem",margin:"auto"}},r.a.createElement(W.a,{onSubmit:l},r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Label,null,"Username"),r.a.createElement(W.a.Control,Object.assign({},a,{placeholder:"username"}))),r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Label,null,"Password"),r.a.createElement(W.a.Control,Object.assign({},c,{placeholder:"password"}))),r.a.createElement(V.a,{id:"login",variant:"success",type:"submit",block:!0},"Login")))),r.a.createElement(_.a,{className:"m-2 p-2"},r.a.createElement(D.a,{style:{maxWidth:"20rem",margin:"auto"}},r.a.createElement("small",null,"Not yet a member?",r.a.createElement(R.b,{to:"/register"}," Register here:")))))})),M=a(141),H=a(40),z=a.n(H),J=function(e){var t=e.rating;return r.a.createElement(M.a,{className:"text-center p-2 m-2"},r.a.createElement(M.a.Header,null,r.a.createElement(M.a.Title,null,t.beer.brewery.name),r.a.createElement(M.a.Subtitle,null,t.beer.name,", ",t.beer.abv," %")),r.a.createElement(M.a.Body,null,r.a.createElement("blockquote",null,t.description)),r.a.createElement(M.a.Footer,null,r.a.createElement("small",{className:"text-muted"},"by ",t.user.name,", ",z()(t.added).fromNow())))},q=function(e){var t=e.bottle;return t?r.a.createElement(M.a,{className:"p-2 m-2 text-center"},r.a.createElement(M.a.Header,null,r.a.createElement(M.a.Title,null,t.beer.brewery.name," "),r.a.createElement(M.a.Subtitle,null,t.beer.name,", ",t.beer.abv," %")),r.a.createElement(M.a.Footer,null,r.a.createElement("small",{className:"text-muted"},"by ",r.a.createElement(R.c,{to:"/users/".concat(t.user.id,"/stash")},t.user.name),", ",z()(t.added).fromNow()))):null},K=function(e){var t=Object(n.useState)(6),a=Object(E.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(6),s=Object(E.a)(u,2),o=s[0],i=s[1],m=function(e,t){return t.added>e.added?1:-1},p=e.bottles.filter(function(e){return!e.user.hidden}).sort(m).slice(0,o),f=e.ratings.sort(m).slice(0,c);return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,null,r.a.createElement(D.a,null,r.a.createElement(F.a,{className:"text-center"},r.a.createElement("h1",null,"Bottlestash"),r.a.createElement("h5",null,"Cooler than wine cellar - wetter than Finnish summer")))),!e.user&&r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,null,r.a.createElement(D.a,{className:"d-flex justify-content-center mb-2"},r.a.createElement("h2",null,"Bottlestash, eh?"),r.a.createElement("p",null,"That's right! Bottlestash let's you keep track of your beer cellar; what you have, how many bottles and when to drink them!"))),r.a.createElement(_.a,null,r.a.createElement(D.a,{className:"d-flex justify-content-center mb-2"},r.a.createElement("h3",null,"Main features:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Save bottles to your stash"),r.a.createElement("li",null,"Keep track of your beers expiration"),r.a.createElement("li",null,"Rate beers you drink"),r.a.createElement("li",null,"Peek other user's cellars"))))),e.user&&r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,null,r.a.createElement(D.a,{className:"text-center"},r.a.createElement("h5",null,"Recently added bottles:"))),r.a.createElement(_.a,null,r.a.createElement(D.a,{style:{maxWidth:"35rem",margin:"auto"}},p.map(function(e){return r.a.createElement(q,{key:e.id,bottle:e})}))),r.a.createElement(_.a,null,r.a.createElement(D.a,{className:"d-flex justify-content-center mb-5"},e.bottles.length>o&&r.a.createElement(V.a,{onClick:function(){i(o+6)}},"Load more ..."))),r.a.createElement(_.a,null,r.a.createElement(D.a,{className:"text-center"},r.a.createElement("h4",null,"Recently added ratings:"))),r.a.createElement(_.a,null,r.a.createElement(D.a,{style:{maxWidth:"35rem",margin:"auto"}},f.map(function(e){return r.a.createElement(J,{key:e.id,rating:e})}))),r.a.createElement(_.a,null,r.a.createElement(D.a,{className:"d-flex justify-content-center mb-5"},e.ratings.length>c&&r.a.createElement(V.a,{onClick:function(){l(c+6)}},"Load more ...")))))},Q=a(140),X=a(139),Z=function(e){return{type:"SET_FILTER",filter:e}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILTER":return t.filter;default:return e}},ee=function(e){return r.a.createElement("datalist",{id:e.id},e.suggestions.map(function(e){return r.a.createElement("option",{key:e,value:e})}))},te=function(e){return r.a.createElement(W.a,{onSubmit:e.handleSearch,inline:!0},r.a.createElement(W.a.Control,{list:e.id,name:"filter",type:"text",className:"p-2 m-2",placeholder:"search for bottles ..."}),r.a.createElement(ee,{suggestions:e.suggestions,id:e.id}),r.a.createElement(V.a,{type:"submit"},"Search"))},ae={logoutUser:g,setFilter:Z},ne=Object(u.b)(null,ae)(Object(U.e)(function(e){return r.a.createElement(Q.a,{as:_.a,collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},r.a.createElement(Q.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(Q.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(X.a,{className:"mr-auto"},r.a.createElement(X.a.Link,{href:"#",as:"span"},r.a.createElement(R.c,{to:"/"},"Home")),!e.user&&r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a.Link,{href:"#",as:"span"},r.a.createElement(R.c,{to:"/login"},"Login")),r.a.createElement(X.a.Link,{href:"#",as:"span"},r.a.createElement(R.c,{to:"/register"},"Create account"))),e.user&&r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a.Link,{href:"#",as:"span"},r.a.createElement(R.c,{to:"/users/".concat(e.user.id,"/stash")},"Manage stash")),r.a.createElement(X.a.Link,{href:"#",as:"span"},r.a.createElement(R.c,{to:"/rate"},"Rate beer")),r.a.createElement(X.a.Link,{href:"#",as:"span"},r.a.createElement(R.c,{to:"/profile"},"Profile")),r.a.createElement(X.a.Link,{href:"#",as:"span"},r.a.createElement(X.a.Item,{onClick:function(){e.logoutUser(),e.setNotification("Logout was successfull"),e.history.push("/")}},"Logout")))),e.user&&r.a.createElement(te,{handleSearch:function(t){t.preventDefault(),e.setFilter(t.target.filter.value),t.target.filter.value="",e.history.push("/search")},suggestions:e.suggestions,id:"search"})))})),re={registerUser:function(e){return function(){var t=Object(i.a)(o.a.mark(function t(a){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.create(e);case 2:n=t.sent,a({type:"REGISTER_USER",newUser:n});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},ce=Object(u.b)(null,re)(Object(U.e)(function(e){var t=v("text",5,20,!0),a=Object(E.a)(t,1)[0],n=v("password",5,20,!0),c=Object(E.a)(n,1)[0],l=v("text",1,20,!0),u=Object(E.a)(l,1)[0],s=v("text",1,50,!0),m=Object(E.a)(s,1)[0],p=v("text",1,50,!1),f=Object(E.a)(p,1)[0],d=v("text",1,20,!1),b=Object(E.a)(d,1)[0],h=function(){var t=Object(i.a)(o.a.mark(function t(n){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=n.target.hidden.checked,t.prev=2,t.next=5,e.registerUser({username:a.value,password:c.value,name:u.value,email:m.value,city:f.value,country:b.value,hidden:r});case 5:e.setNotification("User registration was succesfull"),e.history.push("/login"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),e.setNotification("User registration failed","error");case 12:case"end":return t.stop()}},t,null,[[2,9]])}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,null,r.a.createElement(F.a,{as:D.a,className:"text-center"},r.a.createElement("h2",null,"Register to Bottlestash"))),r.a.createElement(_.a,{className:"mb-3"},r.a.createElement(D.a,{style:{maxWidth:"25rem",margin:"auto"}},r.a.createElement(W.a,{onSubmit:h,id:"registerForm"},r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Label,null,"Username"),r.a.createElement(W.a.Control,Object.assign({},a,{placeholder:"username"}))),r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Label,null,"Password"),r.a.createElement(W.a.Control,Object.assign({},c,{placeholder:"password"}))),r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Label,null,"Name"),r.a.createElement(W.a.Control,Object.assign({},u,{placeholder:"name to show other users"}))),r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Label,null,"Email"),r.a.createElement(W.a.Control,Object.assign({},m,{placeholder:"email"}))),r.a.createElement(W.a.Row,null,r.a.createElement(W.a.Group,{as:D.a,className:"p-2"},r.a.createElement(W.a.Label,null,"City"),r.a.createElement(W.a.Control,Object.assign({},f,{placeholder:"what city your stash at"}))),r.a.createElement(W.a.Group,{as:D.a,className:"p-2"},r.a.createElement(W.a.Label,null,"Country"),r.a.createElement(W.a.Control,Object.assign({},b,{placeholder:"what country your stash at"})))),r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Check,{type:"checkbox",name:"hidden",label:"I want my stash to be private"})),r.a.createElement(V.a,{variant:"success",type:"submit",block:!0},"Register")))))})),le=a(134),ue=a(80),se=a(138),oe={removeBottle:function(e){return function(){var t=Object(i.a)(o.a.mark(function t(a){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.remove(e);case 2:a({type:"REMOVE_BOTTLE",id:e});case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},updateBottle:function(e,t){return function(){var a=Object(i.a)(o.a.mark(function a(n){var r;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B.update(e,t);case 2:r=a.sent,n({type:"UPDATE_BOTTLE",updatedBottle:r});case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},updateUserToState:O,setNotification:A},ie=Object(u.b)(null,oe)(function(e){if(!e.bottle)return null;var t=e.bottle,a=function(){var a=Object(i.a)(o.a.mark(function a(){var n;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,n=Object(ue.a)({},t,{beer:t.beer.id,count:t.count-1}),!(t.count<2)){a.next=8;break}return a.next=5,e.removeBottle(t.id);case 5:e.setNotification("This was your last bottle of ".concat(t.beer.name)),a.next=11;break;case 8:return a.next=10,e.updateBottle(t.id,n);case 10:e.setNotification("You drinked one bottle of ".concat(t.beer.brewery.name," ").concat(t.beer.name));case 11:e.updateUserToState(e.user.username),e.setShow(!1),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(0),e.setNotification("Bottle update failed!","error");case 18:case"end":return a.stop()}},a,null,[[0,15]])}));return function(){return a.apply(this,arguments)}}();return r.a.createElement(se.a,{centered:!0,show:e.show,onHide:function(){return e.setShow(!1)}},r.a.createElement(se.a.Header,{closeButton:!0},r.a.createElement(se.a.Title,null,t.beer.brewery.name,", ",t.beer.name,", ",t.beer.abv," %")),r.a.createElement(se.a.Body,null,r.a.createElement("p",null,"Price ",t.price," \u20ac"),r.a.createElement("p",null,"Volume ",t.volume," litres"),r.a.createElement("p",null,"Bottled ",t.bottled),r.a.createElement("p",null,"Expires ",t.expiration),r.a.createElement("p",null,"You have ",t.count," bottles left")),r.a.createElement(se.a.Footer,null,r.a.createElement(R.c,{onClick:a,to:{pathname:"/rate",state:{bottle:t}}},"Drink and rate!"),r.a.createElement(V.a,{onClick:a,variant:"light"},"Just drink!")))}),me=function(e){var t=Object(n.useState)(!1),a=Object(E.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(null),s=Object(E.a)(u,2),o=s[0],i=s[1];if(!e.stash)return null;return r.a.createElement(D.a,null,r.a.createElement(le.a,{hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Count"),r.a.createElement("th",null,"Brewery"),r.a.createElement("th",null,"Beer"))),r.a.createElement("tbody",null,e.stash.map(function(e){return r.a.createElement("tr",{key:e.id,onClick:function(){return function(e){i(e),l(!0)}(e)}},r.a.createElement("td",null,e.count),r.a.createElement("td",null,e.beer.brewery.name),r.a.createElement("td",null,e.beer.name,", ",e.beer.abv," %"))}))),r.a.createElement(ie,{show:c,setShow:l,bottle:o,user:e.user}))},pe=function(e){var t=e.stash;return r.a.createElement(D.a,null,r.a.createElement(M.a,null,r.a.createElement(M.a.Header,null,r.a.createElement(M.a.Title,null,"Click here to see details of your stash")),r.a.createElement(M.a.Body,null,r.a.createElement(M.a.Text,null,"You have ",t.length," different beers in your stash"),r.a.createElement(M.a.Text,null,"You have ",t.reduce(function(e,t){return e+t.count},0)," bottles in your stash"),r.a.createElement(M.a.Text,null,"Your stash costs ",t.reduce(function(e,t){return e+t.price},0)),r.a.createElement(M.a.Text,null,"Your stash has ",t.reduce(function(e,t){return e+t.volume},0)," beer"))))},fe=function(e){var t=Object(n.useState)(!1),a=Object(E.a)(t,2),c=a[0],l=a[1];if(!e.userToView)return null;var u=e.userToView.stash;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,null,r.a.createElement(F.a,{as:D.a,className:"text-center"},r.a.createElement("h2",null,e.userToView.name," 's Stash"))),e.userToView.username===e.user.username&&e.userToView.hidden&&r.a.createElement(_.a,null,r.a.createElement(D.a,{className:"p-2 text-center"},r.a.createElement("p",null,"Your stash is hidden and won't show to other users. If you wan't to make it visible to other users, please update visibility settings in your profile"))),e.userToView.username!==e.user.username&&e.userToView.hidden&&r.a.createElement(_.a,null,"This stash is private and cannot be peeked - sorry!"),(e.userToView.username===e.user.username||!e.userToView.hidden)&&r.a.createElement(_.a,null,r.a.createElement(D.a,{md:3,style:{maxWidth:"15rem"}},r.a.createElement(X.a,{justify:!0,className:"flex-column"},r.a.createElement(X.a.Link,{onClick:function(){return l(!c)},as:"span",className:"p-2"},"Stash details"),r.a.createElement(X.a.Link,{as:"span",className:"p-2"},r.a.createElement(R.c,{to:"/bottles"},"Add new bottle")))),!c&&r.a.createElement(me,{stash:u,user:e.user}),c&&r.a.createElement(pe,{stash:u})))},Ee=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{className:"mt-5",style:{textAlign:"center",backgroundColor:"rgba(255, 172, 65, 0.8)"}},r.a.createElement(D.a,{className:"col-2",style:{margin:"auto"}},r.a.createElement("p",null,"T\xe4h\xe4n tietoja")),r.a.createElement(D.a,{className:"col-2",style:{margin:"auto"}},r.a.createElement("p",null,"T\xe4h\xe4n tietoja")),r.a.createElement(D.a,{className:"col-2",style:{margin:"auto"}},r.a.createElement("p",null,"T\xe4h\xe4n tietoja"))),r.a.createElement(_.a,{style:{textAlign:"center",backgroundColor:"rgba(255, 172, 65, 0.8)"}},r.a.createElement(D.a,null,r.a.createElement("p",null,"\xa9 Miika Somero 2019"))))},de=h("http://localhost:3001/api/beers"),be=function(e){return function(){var t=Object(i.a)(o.a.mark(function t(a){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,de.create(e);case 2:return n=t.sent,a({type:"ADD_BEER",beer:n}),t.abrupt("return",n);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BEERS":return t.beers;case"ADD_BEER":return[].concat(Object(y.a)(e),[t.beer]);default:return e}},ve={addBeer:be,addBrewery:N,addBottle:function(e){return function(){var t=Object(i.a)(o.a.mark(function t(a){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.create(e);case 2:n=t.sent,a({type:"ADD_BOTTLE",newBottle:n});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},getOneBeer:function(e,t,a){return function(){var n=Object(i.a)(o.a.mark(function n(r){var c;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,de.getOne("".concat(e,"/").concat(t,"/").concat(a));case 2:return c=n.sent,n.abrupt("return",c);case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},getOneBrewery:function(e){return function(){var t=Object(i.a)(o.a.mark(function t(a){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.getOne(e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},updateUserToState:O},ge=Object(u.b)(null,ve)(Object(U.e)(function(e){var t=Object(n.useState)(!1),a=Object(E.a)(t,2),c=a[0],l=a[1],u=v("text",1,50,!0),s=Object(E.a)(u,1)[0],m=v("text",1,50,!0),p=Object(E.a)(m,1)[0],f=v("number",0,100,.1,!0),d=Object(E.a)(f,1)[0],b=v("number",0,1e3,.01),h=Object(E.a)(b,1)[0],g=v("number",0,50,1,!0),w=Object(E.a)(g,1)[0],y=v("number",0,10,.01),x=Object(E.a)(y,1)[0],O=v("date","1900-01-01","2100-01-01",1),j=Object(E.a)(O,1)[0],k=v("date","1900-01-01","2100-01-01",1),N=Object(E.a)(k,1)[0],T=function(){var t=Object(i.a)(o.a.mark(function t(a){var n,r,c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),a.preventDefault(),t.prev=2,t.next=5,e.getOneBrewery(s.value);case 5:if(n=t.sent){t.next=10;break}return t.next=9,e.addBrewery({name:s.value});case 9:n=t.sent;case 10:return t.next=12,e.getOneBeer(n.id,p.value,d.value);case 12:if(r=t.sent){t.next=17;break}return t.next=16,e.addBeer({breweryId:n.id,name:p.value,abv:d.value});case 16:r=t.sent;case 17:return t.next=19,e.addBottle({price:h.value,count:w.value,volume:x.value,bottled:j.value,expiration:N.value,beerId:r.id});case 19:return t.next=21,e.updateUserToState(e.user.username);case 21:c=t.sent,l(!1),e.setNotification("Added bottle succesfully"),e.history.push("/users/".concat(c.id,"/stash")),t.next=30;break;case 27:t.prev=27,t.t0=t.catch(2),e.setNotification("Adding bottle failed - sorry!","error");case 30:case"end":return t.stop()}},t,null,[[2,27]])}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,null,r.a.createElement(F.a,{as:D.a,className:"text-center"},r.a.createElement("h2",null,"Add new bottle to your stash"))),r.a.createElement(_.a,{className:"mb-3"},r.a.createElement(D.a,{style:{maxWidth:"25rem",margin:"auto"}},r.a.createElement(W.a,{onSubmit:T,id:"addBottleForm"},r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Label,null,"Brewery"),r.a.createElement(W.a.Control,Object.assign({},s,{list:"breweriesAsList",placeholder:"name of the brewery"})),r.a.createElement(ee,{suggestions:e.breweries,id:"breweriesAsList"})),r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Label,null,"Name"),r.a.createElement(W.a.Control,Object.assign({},p,{placeholder:"name of your beer"}))),r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Label,null,"Abv"),r.a.createElement(W.a.Control,Object.assign({},d,{placeholder:"alcohol %"}))),r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Label,null,"Count"),r.a.createElement(W.a.Control,Object.assign({},w,{placeholder:"number of bottles to save"}))),r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Label,null,"Volume"),r.a.createElement(W.a.Control,Object.assign({},x,{placeholder:"volume of the bottle in litres"}))),r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Label,null,"Price"),r.a.createElement(W.a.Control,Object.assign({},h,{placeholder:"price of an one bottle"}))),r.a.createElement(W.a.Row,null,r.a.createElement(W.a.Group,{style:{maxWidth:"50%"},className:" p-2"},r.a.createElement(W.a.Label,null,"Bottled"),r.a.createElement(W.a.Control,Object.assign({},j,{placeholder:"day beer was bottled"}))),r.a.createElement(W.a.Group,{style:{maxWidth:"50%"},className:"p-2"},r.a.createElement(W.a.Label,null,"Expiration"),r.a.createElement(W.a.Control,Object.assign({},N,{placeholder:"expiration day of bottles"})))),r.a.createElement(V.a,{variant:"success",type:"submit",block:!0,disabled:c}," ",c?"Loading ...":"Add beer")))))})),we=a(135),ye=Object(u.b)(function(e){return{notification:e.notification}})(function(e){return e.notification?r.a.createElement(_.a,null,r.a.createElement(we.a,{as:D.a,className:"text-center col-12",variant:"success"===e.notification.type?"success":"danger"},e.notification.message)):null}),xe=null,Oe=function(){var e=Object(i.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/api/breweries");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(i.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat("/api/breweries","/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ke={getAll:Oe,create:function(){var e=Object(i.a)(o.a.mark(function e(t){var a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:xe}},e.next=3,p.a.post("/api/breweries",t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){xe="bearer ".concat(e)},getOne:je},Ne=null,Te=function(){var e=Object(i.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/api/beers");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=Object(i.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat("/api/beers","/").concat(t.breweryId,"/").concat(t.name,"/").concat(t.abv));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Se={getAll:Te,create:function(){var e=Object(i.a)(o.a.mark(function e(t){var a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:Ne}},e.next=3,p.a.post("/api/beers",t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){Ne="bearer ".concat(e)},getOne:Le},Be={addBeer:be,addBrewery:N,addRating:function(e){return function(){var t=Object(i.a)(o.a.mark(function t(a){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.create(e);case 2:n=t.sent,a({type:"ADD_RATING",rating:n});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},setNotification:A},Ce=Object(u.b)(null,Be)(Object(U.e)(function(e){var t=v("text",1,50,!0),a=Object(E.a)(t,2),c=a[0],l=a[1],u=v("text",1,50,!0),s=Object(E.a)(u,2),m=s[0],p=s[1],f=v("text",0,1e3,!1),d=Object(E.a)(f,1)[0],b=v("number",0,100,.1,!0),h=Object(E.a)(b,2),g=h[0],w=h[1],y=v("number",0,360,1,!1),x=Object(E.a)(y,2),O=x[0],j=(x[1],v("range",0,10,1,!0)),k=Object(E.a)(j,1)[0],N=v("range",0,10,1,!0),T=Object(E.a)(N,1)[0],L=v("range",0,5,1,!0),S=Object(E.a)(L,1)[0],B=v("range",0,5,1,!0),C=Object(E.a)(B,1)[0],A=v("range",0,20,1,!0),G=Object(E.a)(A,1)[0];Object(n.useEffect)(function(){if(e.location.state){var t=e.location.state.bottle;l(t.beer.name),p(t.beer.brewery.name),w(t.beer.abv)}},[]);var R=function(){var t=Object(i.a)(o.a.mark(function t(a){var n,r,l;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),t.prev=1,n=null,e.beer){t.next=18;break}return t.next=6,ke.getOne(m.value);case 6:if(r=t.sent){t.next=11;break}return t.next=10,e.addBrewery({name:m.value});case 10:r=t.sent;case 11:return t.next=13,Se.getOne({breweryId:r.id,name:c.value,abv:g.value});case 13:if(n=t.sent){t.next=18;break}return t.next=17,e.addBeer({breweryId:r.id,name:c.value,abv:g.value});case 17:n=t.sent;case 18:l={beerId:void 0===e.beer?n.id:e.beer.id,description:d.value,ageofbeer:O.value,aroma:k.value,taste:T.value,appearance:S.value,mouthfeel:C.value,overall:G.value},e.addRating(l),e.setNotification("New rating added!"),e.history.push("/"),t.next=27;break;case 24:t.prev=24,t.t0=t.catch(1),e.setNotification("Adding a new rating failed!","error");case 27:case"end":return t.stop()}},t,null,[[1,24]])}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,null,r.a.createElement(F.a,{as:D.a,className:"text-center mb-2"},r.a.createElement("h2",null,"Give rating to this beer"))),r.a.createElement(_.a,{className:"mb-3"},r.a.createElement(D.a,{style:{maxWidth:"25rem",margin:"auto"}},r.a.createElement(W.a,{onSubmit:R,id:"rateForm"},r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Label,null,"Brewery"),r.a.createElement(W.a.Control,m)),r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Label,null,"Beer"),r.a.createElement(W.a.Control,c)),r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Label,null,"Abv"),r.a.createElement(W.a.Control,g)),r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Label,null,"Beers age when drinked"),r.a.createElement(W.a.Control,O)),r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Label,null,"Aroma"),r.a.createElement(W.a.Text,null,k.value||0),r.a.createElement(W.a.Control,k)),r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Label,null,"Taste"),r.a.createElement(W.a.Text,null,T.value||0),r.a.createElement(W.a.Control,T)),r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Label,null,"Appearance"),r.a.createElement(W.a.Text,null,S.value||0),r.a.createElement(W.a.Control,S)),r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Label,null,"Mouthfeel"),r.a.createElement(W.a.Text,null,C.value||0),r.a.createElement(W.a.Control,C)),r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Label,null,"Overall"),r.a.createElement(W.a.Text,null,G.value||0),r.a.createElement(W.a.Control,G)),r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Label,null,"Description"),r.a.createElement(W.a.Control,Object.assign({as:"textarea",rows:"4"},d))),r.a.createElement(V.a,{type:"submit",variant:"success",block:!0},"Add rating")))))})),Ae={removeUser:function(e){return function(){var t=Object(i.a)(o.a.mark(function t(a){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.remove(e);case 2:a({type:"REMOVE_USER",id:e});case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},updateUser:function(e,t){return function(){var a=Object(i.a)(o.a.mark(function a(n){var r;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,x.update(e,t);case 2:r=a.sent,n({type:"UPDATE_USER",updatedUser:r});case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},logoutUser:g,setNotification:A},Ge=Object(u.b)(null,Ae)(Object(U.e)(function(e){var t=v("text",1,20,!0),a=Object(E.a)(t,2),c=a[0],l=a[1],u=v("text",1,50,!0),s=Object(E.a)(u,2),m=s[0],p=s[1],f=v("text",1,50,!1),d=Object(E.a)(f,2),b=d[0],h=d[1],g=v("text",1,20,!1),w=Object(E.a)(g,2),y=w[0],x=w[1],O=Object(n.useState)(!1),j=Object(E.a)(O,2),k=j[0],N=j[1];if(Object(n.useEffect)(function(){l(e.user.name||""),p(e.user.email||""),h(e.user.city||""),x(e.user.country||""),N(e.user.hidden)},[]),!e.user)return null;var T=function(){var t=Object(i.a)(o.a.mark(function t(a){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,n={name:c.value,email:m.value,city:b.value,country:y.value,hidden:k},t.next=5,e.updateUser(e.user.id,n);case 5:e.setNotification("Profile saved!"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e.setNotification("Saving profile failed!","error");case 11:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}(),L=function(){var t=Object(i.a)(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure you want to delete your profile and all its data?")){t.next=13;break}return t.prev=1,t.next=4,e.removeUser(e.user.id);case 4:return t.next=6,e.logoutUser();case 6:e.setNotification("Your profile and data has been deleted"),e.history.push("/"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.setNotification("Removing yor profile failed!","error");case 13:case"end":return t.stop()}},t,null,[[1,10]])}));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,null,r.a.createElement(F.a,{as:D.a,className:"text-center mb-2"},r.a.createElement("h2",null,e.user.username," profile"))),r.a.createElement(_.a,{className:"mb-3"},r.a.createElement(D.a,{md:3,style:{maxWidth:"10rem"}},r.a.createElement(X.a,{justify:!0,className:"flex-column"},r.a.createElement(X.a.Link,{as:"span",className:"p-2"},r.a.createElement(R.c,{to:"/users/".concat(e.user.id,"/stash")},"Your stash")),r.a.createElement(X.a.Link,{as:"span",className:"p-2"},r.a.createElement(R.c,{to:"/users/".concat(e.user.id,"/ratings")},"Your ratings")),r.a.createElement(X.a.Link,{onClick:L,href:"#",as:"span",className:"p-2"},"Delete profile"))),r.a.createElement(D.a,{md:9},r.a.createElement(W.a,{style:{maxWidth:"25rem",margin:"auto"},onSubmit:T,id:"profileUpdateForm"},r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Label,null,"Name"),r.a.createElement(W.a.Control,c)),r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Label,null,"Email"),r.a.createElement(W.a.Control,m)),r.a.createElement(W.a.Row,null,r.a.createElement(W.a.Group,{style:{maxWidth:"50%"},className:"p-2"},r.a.createElement(W.a.Label,null,"City"),r.a.createElement(W.a.Control,b)),r.a.createElement(W.a.Group,{style:{maxWidth:"50%"},className:"p-2"},r.a.createElement(W.a.Label,null,"Country"),r.a.createElement(W.a.Control,y))),r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Check,{type:"checkbox",name:"hidden",checked:k,onChange:function(e){var t=e.target;return N(t.checked)},label:"I want my stash to be private"})),r.a.createElement(V.a,{type:"submit",variant:"success",block:!0},"Save profile")))))})),Re={setFilter:Z},Ue=Object(u.b)(function(e){return{filter:e.filter}},Re)(function(e){var t=e.bottles.filter(function(e){return!e.user.hidden}).filter(function(t){return!!e.filter&&(t.beer.name.toLowerCase().includes(e.filter.toLowerCase())||t.beer.brewery.name.toLowerCase().includes(e.filter.toLowerCase()))});return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,null,r.a.createElement(D.a,null,r.a.createElement(F.a,{className:"text-center"},r.a.createElement("h2",null,"Search from Bottlestash")))),r.a.createElement(_.a,null,r.a.createElement(D.a,{className:"d-flex justify-content-center block"},r.a.createElement(te,{handleSearch:function(t){t.preventDefault(),e.setFilter(t.target.filter.value),t.target.filter.value=""},suggestions:e.suggestions,id:"search"}))),e.filter&&r.a.createElement(_.a,null,r.a.createElement(D.a,{className:"text-center"},r.a.createElement("p",null,"We have ",t.length," results for search '",e.filter,"'"))),r.a.createElement(_.a,null,r.a.createElement(D.a,{style:{maxWidth:"35em",margin:"auto"}},t.map(function(e){return r.a.createElement(q,{key:e.id,bottle:e})}))))}),Ie=(a(128),{setUserToState:function(e){return function(){var t=Object(i.a)(o.a.mark(function t(a){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:b(e.token),a({type:"LOGIN",user:e});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},getAllUsers:function(){return function(){var e=Object(i.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getAll();case 2:a=e.sent,t({type:"GET_USERS",users:a});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},getAllBreweries:function(){return function(){var e=Object(i.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getAll();case 2:a=e.sent,t({type:"GET_BREWERIES",breweries:a});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},getAllRatings:function(){return function(){var e=Object(i.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getAll();case 2:a=e.sent,t({type:"GET_RATINGS",ratings:a});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},getAllBottles:function(){return function(){var e=Object(i.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.getAll();case 2:a=e.sent,t({type:"GET_BOTTLES",bottles:a});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},setNotification:A}),_e=Object(u.b)(function(e){return{user:e.user,users:e.users,breweries:e.breweries,bottles:e.bottles,ratings:e.ratings}},Ie)(function(e){Object(n.useEffect)(function(){var t=window.localStorage.getItem("loggedBottlestashUser");t&&e.setUserToState(JSON.parse(t))},[]),Object(n.useEffect)(function(){e.getAllUsers()},[]),Object(n.useEffect)(function(){e.getAllBreweries()},[]),Object(n.useEffect)(function(){e.getAllRatings()},[]),Object(n.useEffect)(function(){e.getAllBottles()},[]);var t=function(){return e.user?e.users.find(function(t){return t.username===e.user.username}):null};return r.a.createElement(I.a,{fluid:!0},r.a.createElement(R.a,null,r.a.createElement(ne,{user:t(),setNotification:e.setNotification,suggestions:e.bottles.map(function(e){return e.beer.name})}),r.a.createElement(ye,null),r.a.createElement(U.a,{exact:!0,path:"/",render:function(){return r.a.createElement(K,{user:e.user,bottles:e.bottles,ratings:e.ratings})}}),r.a.createElement(U.a,{exact:!0,path:"/login",render:function(){return r.a.createElement(Y,{setNotification:e.setNotification})}}),r.a.createElement(U.a,{exact:!0,path:"/register",render:function(){return r.a.createElement(ce,{setNotification:e.setNotification})}}),r.a.createElement(U.a,{exact:!0,path:"/search",render:function(){return r.a.createElement(Ue,{user:e.user,bottles:e.bottles,suggestions:e.bottles.map(function(e){return e.beer.name})})}}),e.user&&r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{exact:!0,path:"/bottles",render:function(){return r.a.createElement(ge,{breweries:e.breweries?e.breweries.map(function(e){return e.name}):null,user:e.user,setNotification:e.setNotification})}}),r.a.createElement(U.a,{exact:!0,path:"/rate",render:function(e){return r.a.createElement(Ce,e)}}),t()&&r.a.createElement(U.a,{exact:!0,path:"/profile",render:function(){return r.a.createElement(Ge,{setNotification:e.setNotification,user:t()})}}),r.a.createElement(U.a,{exact:!0,path:"/users/:id/stash",render:function(t){var a,n=t.match;return r.a.createElement(fe,{userToView:(a=n.params.id,e.users.find(function(e){return e.id===a})),user:e.user})}})),r.a.createElement(Ee,null)))}),Fe=a(36),De=a(79),We=Object(Fe.c)({user:w,users:j,beers:he,breweries:T,notification:G,ratings:S,bottles:C,filter:$}),Ve=Object(Fe.d)(We,Object(Fe.a)(De.a));l.a.render(r.a.createElement(u.a,{store:Ve},r.a.createElement(_e,null)),document.getElementById("root"))},81:function(e,t,a){e.exports=a(129)}},[[81,1,2]]]);
//# sourceMappingURL=main.30f2f77c.chunk.js.map